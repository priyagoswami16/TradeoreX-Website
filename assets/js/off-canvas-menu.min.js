"use strict";function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,n,t){return n&&_defineProperties(e.prototype,n),t&&_defineProperties(e,t),e}function _defineProperty(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}!function(){var n="off-canvas";new(function(){function o(e,n,t){_classCallCheck(this,o),_defineProperty(this,"body",document.querySelector("body")),_defineProperty(this,"iconOpen",document.querySelector(".icon-open-container")),_defineProperty(this,"linkLevel1",document.querySelectorAll(".link-level-1")),_defineProperty(this,"sidebar",document.querySelector(".off-canvas")),this.closeOtherSubmenus=e,this.closeMenuOnBackdropClick=n,this.closeSubmenusOnMenuClose=t}return _createClass(o,[{key:"init",value:function(){var n=this;this.addEventsForLinksLevel1(this.linkLevel1),this.iconOpen.addEventListener("click",function(){var e=[document.querySelector(".icon-close")];n.openMenu(n.sidebar,n.body),n.addCloseEvents(e,n.sidebar,n.body)})}},{key:"addBackdropToDom",value:function(){var e=document.createElement("div");e.className="off-canvas-backdrop",document.body.appendChild(e)}},{key:"addCloseEvents",value:function(e,n,t){var o,l=this;this.closeMenuOnBackdropClick&&(o=document.querySelector(".off-canvas-backdrop"),e.push(o));for(var r=0;r<e.length;r++)e[r].addEventListener("click",function(){l.hideSidebar(n),l.removeBackdropFromDom(),l.makeBodyScrollable(t),l.closeSubmenusOnMenuClose&&l.rotateMenuArrowsBack(),l.closeSubmenusOnMenuClose&&l.closeAllSubmenus()})}},{key:"addEventsForLinksLevel1",value:function(e){for(var n=this,t=0;t<e.length;t++)0<e[t].children.length&&e[t].addEventListener("click",function(e){n.handleClickOnLevel1(e)})}},{key:"closeAllSubmenus",value:function(){for(var e=document.querySelectorAll(".list-level-1"),n=0;n<e.length;n++)e[n].style.display="none"}},{key:"handleClickOnLevel1",value:function(e){"block"===e.currentTarget.closest(".link-level-1").nextElementSibling.style.display?(e.currentTarget.closest(".link-level-1").parentNode.childNodes[3].style.display="none",e.currentTarget.closest(".link-level-1").childNodes[1].classList.remove("rotate-90")):(this.closeOtherSubmenus&&this.closeAllSubmenus(),this.closeOtherSubmenus&&this.rotateMenuArrowsBack(),e.currentTarget.closest(".link-level-1").parentNode.childNodes[3].style.display="block",e.currentTarget.closest(".link-level-1").childNodes[1].classList.add("rotate-90"))}},{key:"handleSidebar",value:function(e){e.className="off-canvas show",e.style.visibility="visible"}},{key:"hideSidebar",value:function(e){e.className=n}},{key:"makeBodyScrollable",value:function(e){e.style.overflow=""}},{key:"openMenu",value:function(e,n){this.preventBodyFromScrolling(n),this.handleSidebar(e),this.addBackdropToDom(),this.setPageYOffset()}},{key:"preventBodyFromScrolling",value:function(e){e.style.overflow="hidden"}},{key:"removeBackdropFromDom",value:function(){var e=document.querySelector(".off-canvas-backdrop");e&&e.remove()}},{key:"rotateMenuArrowsBack",value:function(){for(var e=document.querySelectorAll(".link-arrow"),n=e.length,t=0;t<n;t++)e[t].className="link-arrow"}},{key:"setPageYOffset",value:function(){0===n.length?window.requestAnimationFrame(this.setPageYOffset):document.getElementsByClassName(n)[0].style.top=window.pageYOffset.toString()+"px"}}]),o}())(!0,!0,!0).init()}();
//# sourceMappingURL=off-canvas-menu.min.js.map
